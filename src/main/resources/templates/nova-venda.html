<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Nova Venda</title>
</head>
<body>
<h1>Registrar Nova Venda</h1>

<form th:action="@{/vendas/salvar}" method="post">
    <label>Cliente:</label>
    <select name="clienteId" required>
        <option value="" disabled selected>Selecione um cliente</option>
        <option th:each="cliente : ${clientes}"
                th:value="${cliente.id}"
                th:text="${cliente.nome}">
        </option>
    </select>
    <br><br>

    <h3>Produtos</h3>
    <div th:each="produto, i : ${produtos}">
        <input type="checkbox" th:value="${produto.id}" name="produtoIds"/>
        <span th:text="${produto.nome}">Produto</span>
        <input type="number" name="quantidades" min="1" placeholder="Qtd"/>
        <br>
    </div>

    <br>
    <button type="submit">Salvar Venda</button>

    <p th:if="${param.sucesso}" style="color:green;">
        âœ… Venda registrada com sucesso!
    </p>
</form>

</body>
</html>